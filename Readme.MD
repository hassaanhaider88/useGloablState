## ğŸŒ useGlobalState â€” React Global State in 1 Line

> Zero-config, lightweight, and blazing fast global state management for React using hooks.  
> No context. No boilerplate. No Redux. Now with optional localStorage persistence!

---

## ğŸš€ Why useGlobalState?

âœ… No setup required  
âœ… Share state between components instantly  
âœ… Works without Context API  
âœ… Only 1 import to rule them all  
âœ… Less than 1KB gzipped  
âœ… Now supports localStorage persistence!

---

## Live Demo
![Counter Demo](https://ik.imagekit.io/hassaan/useGlobalState_TpqFg4Gc0)

## ğŸ“¦ Installation

```bash
# Using npm
npm install @hmk_codeweb88/useglobalstate

# OR using yarn
yarn add @hmk_codeweb88/useglobalstate
```

---

## âš™ï¸ Basic Usage

### âœ… Create a global variable in any component:

```js
import { useGlobalState } from "@hmk_codeweb88/useglobalstate";

function ComponentA() {
  const [count, setCount] = useGlobalState("count", 0); // "count" is key, 0 is initial value

  return (
    <div>
      <h2>Component A</h2>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
}
```

---

### âœ… Access the same state in another component:

```js
import { useGlobalState } from "@hmk_codeweb88/useglobalstate";

function ComponentB() {
  const [count] = useGlobalState("count");

  return (
    <div>
      <h2>Component B</h2>
      <p>Global Count from Component A: {count}</p>
    </div>
  );
}
```

ğŸ§  **No need to pass props or use context** â€” state is shared automatically using an internal map.

---

## ğŸ’¾ Persistent Global State (localStorage)

Want your value to survive page refresh? Add `{ persist: true }`:

```js
const [theme, setTheme] = useGlobalState("theme", "light", { persist: true });

<button onClick={() => setTheme(theme === "dark" ? "light" : "dark")}>
  Toggle Theme
</button>;
```

âœ”ï¸ Automatically saves and restores from `localStorage`.
âœ”ï¸Perfect for saving theme, language, or user preferences.

---

## ğŸ§© Full Example (Copy-Paste Ready)

```jsx
// App.js
import React from "react";
import ComponentA from "./ComponentA";
import ComponentB from "./ComponentB";

export default function App() {
  return (
    <div>
      <ComponentA />
      <ComponentB />
    </div>
  );
}
```

```jsx
// ComponentA.js
import { useGlobalState } from "@hmk_codeweb88/useglobalstate";

export default function ComponentA() {
  const [value, setValue] = useGlobalState("sharedMessage", "Hello from A!", {
    persist: true,
  });

  return (
    <div>
      <h2>Component A</h2>
      <input value={value} onChange={(e) => setValue(e.target.value)} />
    </div>
  );
}
```

```jsx
// ComponentB.js
import { useGlobalState } from "@hmk_codeweb88/useglobalstate";

export default function ComponentB() {
  const [value] = useGlobalState("sharedMessage");
  // const [value, setValue] = useGlobalState("sharedMessage", "", { persist: true }); if you want to update the value of count and also save it into localStorage permanently You must pass { persist: true } in any component where you want to update and persist the value.(Just accessing it without setValue doesnâ€™t require it.) then you can use setValue to update the value in localStorage.
  return (
    <div>
      <h2>Component B</h2>
      <p>Received: {value}</p>
    </div>
  );
}
```

---

## âš¡ Advanced Usage

### âœ… Update value using a function:

```js
const [count, setCount] = useGlobalState("count", 0);

setCount((prev) => prev + 5); // Works like useState
```

---

## ğŸ§  How It Works

Internally, this library uses:

- A global `Map` to store key-value pairs
- `Set` of listener functions to trigger re-renders
- React `useEffect` + `useState` to subscribe/unsubscribe to changes
- Optionally, `localStorage` for persistence

Thatâ€™s it. No Provider. No Context. No headaches.

---

## â“ FAQ

**Q: Do I need a Context Provider?**
A: Nope. It works completely without React context.

**Q: Is it reactive? Will it update automatically?**
A: Yes! Any component using the same key will auto-update.

**Q: What happens on page refresh?**
A: If `persist: true` is enabled, it restores value from `localStorage`.

**Q: What if I access the same key in 10 components?**
A: All 10 components stay in sync â€” automatically.

---

## ğŸ§ª Roadmap

- [x] Basic key-value global store
- [x] Persistence via localStorage
- [ ] Devtools logging
- [ ] TypeScript support
- [ ] Custom reset/clear method

---

##  ğŸ™ GitHub Repe
``` 
Link this idea please give star â­ on [GitHub](https://github.com/hassaanhaider88/useGloablState)

```

## ğŸ›¡ï¸ 5. Add a â€œSecurity Tipâ€ for localStorage

### This is good practice:
```
âš ï¸ Security note: Data saved via localStorage is visible in the browser and should not be used to store sensitive user info like tokens or passwords.
```


## ğŸ§‘â€ğŸ’» Author

Built with â¤ï¸ by [Hassaan Haider](https://hassaan-haider.netlify.app/)
Have suggestions or ideas? PRs and issues are welcome!

---

## ğŸ“œ License

MIT Â© [Hassaan Haider](https://github.com/hassaanhaider88)
